<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="墨记 - 优雅的日志管理系统">
  <title>墨记 · 优雅的日志管理系统</title>

  <!-- Preload critical resources -->
  <link rel="preload" href="https://cdn.quilljs.com/1.3.6/quill.snow.css" as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
  <link rel="preload" href="css/style.css" as="style">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- CSS -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
</head>

<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <h1><i class="fas fa-book-open" aria-hidden="true"></i> 墨记</h1>
        <p class="subtitle">记录生活点滴，珍藏美好时光</p>
      </div>
      <div class="user-actions">
        <button id="themeToggle" class="btn icon" aria-label="切换主题">
          <i class="fas fa-moon"></i>
        </button>
        <div class="user-avatar">
          <img src="https://ui-avatars.com/api/?name=用户&background=2B32B2&color=fff" alt="用户头像" width="48" height="48">
        </div>
      </div>
    </header>

    <main class="app-main">
      <section class="editor-section card">
        <div id="editor-container" aria-label="日志编辑器"></div>

        <div class="editor-footer">
          <div class="word-count">
            <span id="wordCount">0</span> 字
          </div>
          <div class="editor-actions">
            <button id="saveLog" class="btn primary">
              <i class="fas fa-save" aria-hidden="true"></i> 保存日志
            </button>
          </div>
        </div>
      </section>

      <section class="image-upload-section card">
        <h2><i class="fas fa-images" aria-hidden="true"></i> 图片上传</h2>
        <div class="upload-area" id="dropZone" role="region" aria-labelledby="dropZoneLabel">
          <div class="upload-prompt">
            <i class="fas fa-cloud-upload-alt" aria-hidden="true"></i>
            <p id="dropZoneLabel">拖放图片到这里或点击选择</p>
          </div>
          <input type="file" id="image-upload" accept="image/*" multiple class="image-input"
            aria-labelledby="dropZoneLabel" />
        </div>
        <div id="image-preview-container" class="image-grid"></div>
        <div class="upload-controls">
          <button id="clear-images" class="btn outline">
            <i class="fas fa-trash-alt" aria-hidden="true"></i> 清空图片
          </button>
        </div>
      </section>

      <section class="logs-section">
        <div class="section-header">
          <h2><i class="fas fa-history" aria-hidden="true"></i> 历史日志</h2>
          <div class="section-actions">
            <button id="exportLogs" class="btn outline">
              <i class="fas fa-download" aria-hidden="true"></i> 导出
            </button>
            <button id="clearAllLogs" class="btn danger">
              <i class="fas fa-broom" aria-hidden="true"></i> 清空
            </button>
          </div>
        </div>

        <div class="log-filters">
          <div class="search-box">
            <i class="fas fa-search" aria-hidden="true"></i>
            <input type="text" id="searchInput" placeholder="搜索日志..." aria-label="搜索日志">
          </div>
          <div class="date-filter">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            <input type="date" id="dateFilter" aria-label="按日期筛选">
          </div>
        </div>

        <div id="logList" class="log-list"></div>

        <!-- 删除下面的加载指示器 -->
        <!--
        <div id="loadingIndicator" class="loading-indicator" hidden>
          <div class="spinner"></div>
          <p>加载中...</p>
        </div>
        -->

      </section>
    </main>

    <footer class="app-footer">
      <p>© 2023 墨记日志系统 · 用心记录每一刻</p>
      <div class="footer-links">
        <a href="#" aria-label="帮助"><i class="fas fa-question-circle" aria-hidden="true"></i> 帮助</a>
        <a href="#" aria-label="设置"><i class="fas fa-cog" aria-hidden="true"></i> 设置</a>
      </div>
    </footer>
  </div>

  <!-- Confirmation Modal -->
  <div id="confirmModal" class="modal" hidden>
    <div class="modal-content card">
      <h3 id="confirmModalTitle">确认操作</h3>
      <p id="confirmModalMessage">您确定要执行此操作吗？</p>
      <div class="modal-actions">
        <button id="confirmCancel" class="btn outline">取消</button>
        <button id="confirmAction" class="btn danger">确认</button>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="image-modal" hidden>
    <span class="close-modal" aria-label="关闭图片预览">&times;</span>
    <img id="fullImage" class="full-image" alt="全尺寸图片预览">
    <div class="image-nav">
      <button id="prevImage" class="btn icon" aria-label="上一张图片">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="nextImage" class="btn icon" aria-label="下一张图片">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer" aria-live="polite"></div>

  <!-- JavaScript -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <script src="js/app.js" defer></script>
</body>

</html>